# backup-manager
Утилита резервного копирования на Python без СУБД, полностью на стандартных библиотеках. Позволяет создавать независимые инкрементные бэкапы через hard links на mirror, минимизируя дублирование. Инкременты содержат только ссылки на mirror, удаленные треки корректно учитываются.

- Инкрементные бэкапы без дублирования данных (hard links).  
- Mirror каталог всегда отражает текущее состояние исходника.  
- Удаление файлов из mirror, если они удалены из исходника (track/included).  
- Метаданные инкрементов в JSON.  
- Полностью на стандартных библиотеках Python, без сторонних зависимостей.  
- Динамическая настройка через config.json, поддержка нескольких профилей (USB, второй диск, разные include/exclude).  
- Утилита `backup_tool.py` для поиска и восстановления файлов из инкрементов.
- Легко бэкапить на съемные носители: скопировал USB, запустил `backup.py` — готово!

  ### Пример config.json
```json
{
  "src": "~/Documents",
  "dist": "~/Backups",
  "include_dirs": ["Projects", "Notes"],
  "track_dirs": ["Projects"],
  "include_files": ["todo.txt", "readme.md"],
  "track_files": ["todo.txt"],
  "exclude_dirs": ["Temp", "Cache"],
  "exclude_files": ["*.log", "*.tmp"],
  "max_workers": 8
}

Алгоритм работы backup.py:

Сканирование: рекурсивное сканирование исходника с применением include/exclude правил.
Классификация: разделение файлов на tracked и non-tracked.
Сравнение: проверка изменений относительно текущего состояния mirror.
Инкремент: создание hard links для новых и измененных файлов, а также для ссылок на удаленные треки.
Обновление mirror: копирование новых/измененных файлов.
Очистка: удаление файлов, которых нет в исходнике или в track.
Метаданные: генерация JSON с информацией о новых/измененных и удаленных файлах.
